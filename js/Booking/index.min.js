"use strict";$(document).ready(function(){$(".fancybox-thumb").fancybox({openEffect:"elastic",closeEffect:"elastic",nextEffect:"elastic",prevEffect:"elastic",closeBtn:false,padding:0});$('[name="childs"]').on("change",function(){get_total()});$('[name="adults"]').on("change",function(){get_total()});$('form[name="new_booking"]').on("submit",function(b){b.preventDefault();var a=$(this);$.ajax({type:"POST",data:a.serialize()+"&action=new_booking",processData:false,cache:false,dataType:"json",success:function(c){checkFormDataErrors(a,c,function(){$('[data-modal="success"] main > p').html(c.message);$('[data-modal="success"]').addClass("view");setTimeout(function(){location.reload()},4000)})}})})});function map(){var b=$("#map");var n=b.data("departure-title");var e=b.data("departure-lat");var h=b.data("departure-lng");var f=b.data("arrival-title");var d=b.data("arrival-lat");var g=b.data("arrival-lng");var p=b.data("return-title");var j=b.data("return-lat");var k=b.data("return-lng");var b=new google.maps.Map(document.getElementById("map"),{zoom:10,center:{lat:e,lng:h}});var i=new google.maps.Marker({position:{lat:e,lng:h},map:b});if(e==j&&h==k){var l=new google.maps.InfoWindow({content:n+" & "+p})}else{var l=new google.maps.InfoWindow({content:n})}l.open(b,i);i.addListener("click",function(){l.open(b,i)});var o=new google.maps.Marker({position:{lat:d,lng:g},map:b});var c=new google.maps.InfoWindow({content:f});c.open(b,o);o.addListener("click",function(){c.open(b,o)});if(j!=e||k!=h){var a=new google.maps.Marker({position:{lat:j,lng:k},map:b});var m=new google.maps.InfoWindow({content:p});m.open(b,a);a.addListener("click",function(){m.open(b,a)})}}function get_total(){var a=$('form[name="new_booking"]');$.ajax({type:"POST",data:"childs="+$('[name="childs"]').val()+"&adults="+$('[name="adults"]').val()+"&action=get_total",processData:false,cache:false,dataType:"json",success:function(b){checkFormDataErrors(a,b,function(){$('[name="total"]').val(b.data.total)})}})};