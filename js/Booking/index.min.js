"use strict";$(document).ready(function(){$(".fancybox-thumb").fancybox({openEffect:"none",closeEffect:"none",prevEffect:"elastic",nextEffect:"elastic",padding:0,helpers:{thumbs:{width:50,height:50}}});$(".fancybox-media").fancybox({openEffect:"fade",closeEffect:"fade",prevEffect:"elastic",nextEffect:"elastic",padding:0,helpers:{media:{}}});$.ajax({type:"POST",data:"&action=get_map",processData:false,cache:false,dataType:"json",success:function(a){var f=new google.maps.Map(document.getElementById("map"),{center:{lat:parseFloat(a.data.location.lat),lng:parseFloat(a.data.location.lng)},zoom:14,});var d=new google.maps.Marker({position:{lat:parseFloat(a.data.location.lat),lng:parseFloat(a.data.location.lng)},map:f,});var b=new google.maps.InfoWindow({content:"Aquí será tu tour",});b.open(f,d);d.addListener("click",function(){b.open(f,d)});if(a.data.transportation.lat&&a.data.transportation.lng){var e=new google.maps.Marker({position:{lat:parseFloat(a.data.transportation.lat),lng:parseFloat(a.data.transportation.lng)},map:f,});var c=new google.maps.InfoWindow({content:"Aqui te recogeremos",});c.open(f,e);e.addListener("click",function(){c.open(f,e)})}}});$('[name="date"]').on("change",function(){$.ajax({type:"POST",data:"date="+$(this).val()+"&action=get_availability",processData:false,cache:false,dataType:"json",success:function(a){if(a.status=="success"){$('[name="date"]').parent().find("p.caption").html(a.data)}else{$('[data-modal="alert"] main > p').html(a.message);$('[data-modal="alert"]').addClass("view")}}})});$('[name="adults"]').on("change",function(){get_total()});$('[name="children"]').on("change",function(){get_total()});$('[data-action="booking"]').on("click",function(){$('form[name="booking"]').submit()});$('form[name="booking"]').on("submit",function(b){b.preventDefault();var a=$(this);$.ajax({type:"POST",data:a.serialize()+"&action=booking",processData:false,cache:false,dataType:"json",success:function(c){checkFormValidations(a,c,function(){window.location.href=c.path})}})})});function get_total(){$.ajax({type:"POST",data:"adults="+$('[name="adults"]').val()+"&children="+$('[name="children"]').val()+"&action=get_total",processData:false,cache:false,dataType:"json",success:function(a){if(a.status=="success"){$('[name="total"]').val(a.data.usd);$('[name="total"]').parent().find("p.caption").find("span").html(a.data.mxn)}else{$('[data-modal="alert"] main > p').html(a.message);$('[data-modal="alert"]').addClass("view")}}})};