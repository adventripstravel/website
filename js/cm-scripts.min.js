"use strict";$(window).on("beforeunload ajaxStart",function(){$("body").prepend('<div data-ajax-loader><div class="loader"></div></div>')});$(window).on("ajaxStop",function(){$("body").find("[data-ajax-loader]").remove()});$(document).ready(function(){$("[data-low-uploader]").each(function(){uploader($(this),"low")});$("[data-fast-uploader]").each(function(){uploader($(this),"fast",$(this).data("fast-uploader"))});$("[data-image-src]").each(function(){$(this).css("background-image",'url("'+$(this).data("image-src")+'")')})});function checkFormValidations(b,a,c){b.find("[name]").parents(".error").find("p.error").remove();b.find("[name]").parents(".error").removeClass("error");if(a.status=="success"){c()}else{if(a.status=="error"){if(Array.isArray(a.errors)){$.each(a.errors,function(d,e){b.find('[name="'+e[0]+'"]').parent().addClass("error");b.find('[name="'+e[0]+'"]').parent().append('<p class="error">'+e[1]+"</p>")});b.find('input[name="'+a.errors[0][0]+'"]').focus()}else{$('[data-modal="alert"] main > p').html(a.errors);$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}}}function uploader(c,a,b){c.find("a[data-select]").on("click",function(){c.find("input[data-select]").click()});c.find("input[data-select]").on("change",function(){if(a=="low"||a=="fast"){if($(this)[0].files[0].type.match($(this).attr("accept"))){if(a=="low"){var d=new FileReader();d.onload=function(f){c.find("[data-preview] > img").attr("src",f.target.result)};d.readAsDataURL($(this)[0].files[0])}if(a=="fast"){var e=new FormData();e.append("file",$(this)[0].files[0]);e.append("action",b);$.ajax({url:"",type:"POST",data:e,contentType:false,processData:false,cache:false,dataType:"json",success:function(f){if(f.status=="success"){$('[data-modal="success"] main > p').html(f.message);$('[data-modal="success"]').addClass("view").animate({scrollTop:0},0);setTimeout(function(){location.reload()},1000)}else{if(f.status=="error"){$('[data-modal="alert"] main > p').html(f.message);$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}}})}}else{$('[data-modal="alert"] main > p').html("Archivo no permitido");$('[data-modal="alert"]').addClass("view").animate({scrollTop:0},0)}}})}function navScrollDown(a,f,b,d,e){if(d){var c="../"+$(a).find(d).attr("src")}var g={initialize:function(){$(document).each(function(){g.scroller()});$(document).on("scroll",function(){g.scroller()})},scroller:function(){if($(document).scrollTop()>b){$(a).addClass(f);if(d){$(a).find(d).attr("src",e)}}else{$(a).removeClass(f);if(d){$(a).find(d).attr("src",c)}}}};g.initialize()};