"use strict";$(window).on("beforeunload ajaxStart",function(){$("body").prepend('<div data-ajax-loader><div class="loader"></div></div>')});$(window).on("ajaxStop",function(){$("body").find("[data-ajax-loader]").remove()});$(document).ready(function(){$("[data-low-uploader]").each(function(){uploader($(this),"low")});$("[data-fast-uploader]").each(function(){uploader($(this),"fast",$(this).data("fast-uploader"))});$("[data-image-src]").each(function(){$(this).css("background-image",'url("'+$(this).data("image-src")+'")')})});function navScrollDown(f,d,a,e,c,b){var g={initialize:function(){$(document).each(function(){g.scroller()});$(document).on("scroll",function(){g.scroller()})},scroller:function(){if($(document).scrollTop()>a){if(e||b){$(e).attr("src",b)}$(f).addClass(d)}else{if(e||c){$(e).attr("src",c)}$(f).removeClass(d)}}};g.initialize()}function checkFormDataErrors(b,a,c){b.find("[name]").parents(".error").find("p.error").remove();b.find("[name]").parents(".error").removeClass("error");if(a.status=="success"){c()}else{if(a.status=="error"){if(Array.isArray(a.errors)){$.each(a.errors,function(d,e){b.find('[name="'+e[0]+'"]').parent().addClass("error");b.find('[name="'+e[0]+'"]').parent().append('<p class="error">'+e[1]+"</p>")});b.find('input[name="'+a.errors[0][0]+'"]').focus()}else{$('[data-modal="alert"]').addClass("view");$('[data-modal="alert"]').find("main > p").html(a.errors)}}}}function clearFormData(a){a[0].reset();a.find("[data-preview] > img").attr("src","../images/empty.png");a.find("[name]").parents(".error").find("p.error").remove();a.find("[name]").parents(".error").removeClass("error")}function uploader(d,b,a,c){d.find("a[data-select]").on("click",function(){d.find("input[data-select]").click()});d.find("input[data-select]").on("change",function(){if($(this)[0].files[0].type.match($(this).attr("accept"))){if(b=="low"){var e=new FileReader();e.onload=function(g){d.find("[data-preview] > img").attr("src",g.target.result)};e.readAsDataURL($(this)[0].files[0])}else{if(b=="fast"){var f=new FormData();f.append("file",$(this)[0].files[0]);f.append("action",c);$.ajax({url:"",type:"POST",data:f,contentType:false,processData:false,cache:false,dataType:"json",success:function(g){if(g.status=="success"){$('[data-modal="success"]').addClass("view");$('[data-modal="success"]').find("main > p").html(g.message);setTimeout(function(){location.reload()},1500)}else{if(g.status=="error"){$('[data-modal="alert"]').addClass("view");$('[data-modal="alert"]').find("main > p").html(g.message)}}}})}}}else{$('[data-modal="alert"]').addClass("view");$('[data-modal="alert"]').find("main > p").html("ERROR")}})};